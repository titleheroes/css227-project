<%- include('../partials/header.ejs') %>

<div class="container-fluid d-flex flex-row px-3 pt-4" style="height: 75px; background-color: rgb(0, 0, 0);">
    &emsp;
    <h5 style="color: white; text-transform: uppercase;">
        <span class="dot" style="background-color: rgb(255, 255, 0); margin-bottom: 1px;"></span>
        &nbsp;admin control panel
    </h5>
</div>

<div class="container-fluid px-1 pt-4" style="height: 70px; background-color: rgb(26, 26, 26);">
    <h5 style="color: white; text-transform: uppercase;">
        &emsp; User's List
    </h5>
</div>
&ebsp;
<% User.forEach(function(user){ %>
    <div style="width: 100%; padding-left: 400px; padding-right: 400px;">
        <div class="card card-cover text-white bg-dark rounded-5 shadow-lg">
            <div class="row">
                <img class="col-3" src="<%= user.picture %>" width="150px" height="150px">
                <h5 class="mt-3 mx-3 col" style="color: white; text-transform: uppercase;">
                    <p class="mt-3" style="color: white;"><%= user.username %></p>
                    <p class="mt-3" style="color: green;"><span style="color: rgb(122, 122, 122);">priority : </span><%= user.priority %></p>
                    <div class="text-end mt-2">
                        <form action="/user/admin/grant/<%= user._id %>" method="POST">
                            <button type="submit" class="btn btn-outline-success" style="width: 200px">Grant Admin</button>
                        </form>
                        &nbsp;
                        <form action="/user/admin/delete/<%= user._id %>" method="POST">
                            <button type="submit" class="btn btn-outline-danger" style="width: 200px">Delete Account</button>
                        </form>
                    </div>
                </h5>
            </div>
        </div>
    </div>
    &ebsp;
<% }); %>
<% if ( currentUser.priority == 'superadmin' ) { %>
    <div class="container-fluid px-1 pt-4" style="height: 70px; background-color: rgb(26, 26, 26);">
        <h5 style="color: white; text-transform: uppercase;">
            &emsp; <%= currentUser.priority %>'s List
        </h5>
    </div>
    &ebsp;
    <% Admin.forEach(function(user){ %>
        <div style="width: 100%; padding-left: 400px; padding-right: 400px;">
            <div class="card card-cover text-white bg-dark rounded-5 shadow-lg">
                <div class="row">
                    <img class="col-3" src="<%= user.picture %>" width="150px" height="150px">
                    <h5 class="mt-3 mx-3 col" style="color: white; text-transform: uppercase;">
                        <p class="mt-3" style="color: white;"><%= user.username %></p>
                        <p class="mt-3" style="color: rgb(128, 0, 0);"><span style="color: rgb(122, 122, 122);">priority : </span><%= user.priority %></p>
                        <div class="text-end mt-2">
                            <form action="/user/admin/forfeit/<%= user._id %>" method="POST">
                                <button type="submit" class="btn btn-outline-warning" style="width: 200px">Forfeit Admin</button>
                            </form>
                            &nbsp;
                            <form action="/user/admin/delete/<%= user._id %>" method="POST">
                                <button type="submit" class="btn btn-outline-danger" style="width: 200px">Delete Account</button>
                            </form>
                        </div>
                    </h5>
                </div>
            </div>
        </div>
        &ebsp;
    <% }); %>
<% } %>


<%- include('../partials/footer.ejs') %>